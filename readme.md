# üöÄ –°–µ—Ä–≤–∏—Å —Å–±–æ—Ä–∞ —Ç–∞—Ä–∏—Ñ–æ–≤ Wildberries ‚Üí PostgreSQL ‚Üí Google –¢–∞–±–ª–∏—Ü—ã

> –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä —Ç–∞—Ä–∏—Ñ–æ–≤ WB –¥–ª—è –∫–æ—Ä–æ–±–æ–≤, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î –∏ –≤—ã–≥—Ä—É–∑–∫–∞ –≤ N Google –¢–∞–±–ª–∏—Ü.

[![TypeScript](https://img.shields.io/badge/TypeScript-5.7-blue)](https://www.typescriptlang.org/)
[![Node.js](https://img.shields.io/badge/Node.js-20-green)](https://nodejs.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16-blue)](https://www.postgresql.org/)
[![Docker](https://img.shields.io/badge/Docker-Ready-blue)](https://www.docker.com/)

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–°–µ—Ä–≤–∏—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–≤–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏:

1. **–ï–∂–µ—á–∞—Å–Ω—ã–π —Å–±–æ—Ä —Ç–∞—Ä–∏—Ñ–æ–≤ WB** ‚Äî –ø–æ–ª—É—á–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã –¥–ª—è –∫–æ—Ä–æ–±–æ–≤ —á–µ—Ä–µ–∑ API Wildberries –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ PostgreSQL
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Google –¢–∞–±–ª–∏—Ü** ‚Äî –≤—ã–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î –≤ N Google –¢–∞–±–ª–∏—Ü —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –ø–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—É –¥–æ—Å—Ç–∞–≤–∫–∏

### ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ TypeScript** —Å —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ **Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è** ‚Äî –∑–∞–ø—É—Å–∫ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
- ‚úÖ **Knex.js** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL (–º–∏–≥—Ä–∞—Ü–∏–∏, seeds, query builder)
- ‚úÖ **Upsert –ª–æ–≥–∏–∫–∞** ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –ø–æ–ª—É—á–µ–Ω–∏–∏ –∑–∞ —Ç–æ—Ç –∂–µ –¥–µ–Ω—å
- ‚úÖ **Graceful shutdown** ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
- ‚úÖ **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ —Ä–∞–±–æ—Ç—ã
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è env** —Å –ø–æ–º–æ—â—å—é Zod

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
btlz-wb-test/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app.ts                      # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ env/env.ts             # –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ knex/knexfile.ts       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Knex.js
‚îÇ   ‚îú‚îÄ‚îÄ postgres/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ knex.ts                # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π –∏ seeds
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ migrations/            # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ seeds/                 # –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îî‚îÄ‚îÄ services/
‚îÇ       ‚îú‚îÄ‚îÄ WBApiService.ts        # –†–∞–±–æ—Ç–∞ —Å API Wildberries
‚îÇ       ‚îú‚îÄ‚îÄ TariffDbService.ts     # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îÇ       ‚îî‚îÄ‚îÄ GoogleSheetsService.ts # –†–∞–±–æ—Ç–∞ —Å Google Sheets API
‚îú‚îÄ‚îÄ Dockerfile                      # Multi-stage Docker —Å–±–æ—Ä–∫–∞
‚îú‚îÄ‚îÄ compose.yaml                    # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ example.env                     # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ README.md                       # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/lucard17/btlz-wb-test.git
cd btlz-wb-test
```

### 2Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ `example.env`:

```bash
cp example.env .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env
# PostgreSQL (–º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
POSTGRES_PORT=5432
POSTGRES_DB=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# –ü–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
APP_PORT=5000

# API –∫–ª—é—á Wildberries (–ø–æ–ª—É—á–∏—Ç–µ –Ω–∞ hh.ru)
WB_API_KEY=your_actual_wb_api_key_here

# Google Sheets credentials (JSON –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É)
GOOGLE_SHEETS_CREDENTIALS_JSON={"type":"service_account",...}
```

#### üîë –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å Google Sheets credentials:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –í–∫–ª—é—á–∏—Ç–µ **Google Sheets API**
4. –°–æ–∑–¥–∞–π—Ç–µ **Service Account** –∏ —Å–∫–∞—á–∞–π—Ç–µ JSON –∫–ª—é—á
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ JSON —Ñ–∞–π–ª–∞ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ `.env`
6. –î–∞–π—Ç–µ Service Account –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–∏–º Google –¢–∞–±–ª–∏—Ü–∞–º (Share ‚Üí –¥–æ–±–∞–≤—å—Ç–µ email –∏–∑ JSON)

### 3Ô∏è‚É£ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

```bash
docker compose up --build
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –¢–æ–ª—å–∫–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –ë–î —É–∂–µ –∑–∞–ø—É—â–µ–Ω–∞)**

```bash
docker compose up -d --build app
```

**–í–∞—Ä–∏–∞–Ω—Ç 3: –¢–æ–ª—å–∫–æ –ë–î (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)**

```bash
docker compose up -d --build postgres
```

### 4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –∫ –ë–î
- ‚úÖ –î–æ–±–∞–≤–∏—Ç —Ç–µ—Å—Ç–æ–≤—É—é Google –¢–∞–±–ª–∏—Ü—É –∏–∑ seeds
- ‚úÖ –í—ã–ø–æ–ª–Ω–∏—Ç –ø–µ—Ä–≤—ã–π —Å–±–æ—Ä —Ç–∞—Ä–∏—Ñ–æ–≤
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç cron –¥–ª—è –µ–∂–µ—á–∞—Å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

–õ–æ–≥–∏ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–º–∞–Ω–¥–æ–π:

```bash
docker compose logs -f app
```

---

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ Docker)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
npm install
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ PostgreSQL:

```bash
docker compose up -d postgres
```

3. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ seeds:

```bash
npm run knex:dev migrate latest
npm run knex:dev seed run
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```bash
npm run dev
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ TypeScript
npm run tsc:check

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
npm run prettier-format

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏
npm run knex:dev migrate make migration_name

# –û—Ç–∫–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π –º–∏–≥—Ä–∞—Ü–∏–∏
npm run knex:dev migrate rollback

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ seed
npm run knex:dev seed make seed_name

# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
npm run build

# –ó–∞–ø—É—Å–∫ production –≤–µ—Ä—Å–∏–∏
npm start
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `tariffs`

–•—Ä–∞–Ω–∏—Ç —Ç–∞—Ä–∏—Ñ—ã WB –¥–ª—è –∫–æ—Ä–æ–±–æ–≤ –ø–æ –¥–∞—Ç–∞–º.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | UUID | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á |
| `date` | DATE | –î–∞—Ç–∞ —Ç–∞—Ä–∏—Ñ–∞ (–∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç—Å—è) |
| `warehouse_name` | VARCHAR | –ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫–ª–∞–¥–∞ |
| `delivery_coef` | DECIMAL(10,4) | –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–æ—Å—Ç–∞–≤–∫–∏ |
| `return_coef` | DECIMAL(10,4) | –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—Ç–∞ |
| `storage_coef` | DECIMAL(10,4) | –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è |
| `created_at` | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ |
| `updated_at` | TIMESTAMP | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

**–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á**: `(date, warehouse_name)` ‚Äî –æ–¥–∏–Ω —Å–∫–ª–∞–¥ –Ω–∞ –æ–¥–Ω—É –¥–∞—Ç—É.

### –¢–∞–±–ª–∏—Ü–∞ `spreadsheets`

–•—Ä–∞–Ω–∏—Ç ID Google –¢–∞–±–ª–∏—Ü –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `spreadsheet_id` | VARCHAR | ID Google –¢–∞–±–ª–∏—Ü—ã (–ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á) |

---

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ—Ä–≤–∏—Å

### –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã

1. **–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ**:
   - –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏–∏ –∫ –ë–î
   - –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è seeds (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã)
   - –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π —Å–±–æ—Ä —Ç–∞—Ä–∏—Ñ–æ–≤

2. **–ö–∞–∂–¥—ã–π —á–∞—Å**:
   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–æ–≤ –∏–∑ WB API –¥–ª—è —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ –ë–î (upsert)
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö Google –¢–∞–±–ª–∏—Ü –∏–∑ –ë–î

3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**:
   - –ï—Å–ª–∏ —Ç–∞—Ä–∏—Ñ—ã –∑–∞ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å —É–∂–µ –µ—Å—Ç—å ‚Äî –æ–Ω–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
   - –î–∞–Ω–Ω—ã–µ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ `delivery_coef` (–≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ)
   - –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è

---

## üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö Google –¢–∞–±–ª–∏—Ü

–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

1. **–°–æ–∑–¥–∞–π—Ç–µ Google –¢–∞–±–ª–∏—Ü—É** –∏ –¥–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø Service Account
2. **–°–æ–∑–¥–∞–π—Ç–µ –ª–∏—Å—Ç —Å –∏–º–µ–Ω–µ–º** `stocks_coefs`
3. **–î–æ–±–∞–≤—å—Ç–µ ID —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î**:

```sql
INSERT INTO spreadsheets (spreadsheet_id) VALUES ('your-spreadsheet-id-here');
```

–ò–ª–∏ —á–µ—Ä–µ–∑ seed —Ñ–∞–π–ª –≤ `src/postgres/seeds/spreadsheets.ts`.

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "WB_API_KEY –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` —Ñ–∞–π–ª–µ —É–∫–∞–∑–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π API –∫–ª—é—á WB.

### –û—à–∏–±–∫–∞ "–ù–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON –≤ GOOGLE_SHEETS_CREDENTIALS_JSON"

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ JSON credentials —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É –±–µ–∑ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤.

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ë–î –∑–∞–ø—É—â–µ–Ω:

```bash
docker compose ps
```

### –¢–∞–±–ª–∏—Ü—ã –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Service Account –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–µ
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü–µ –µ—Å—Ç—å –ª–∏—Å—Ç `stocks_coefs`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ Google API

---

## üì¶ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Runtime**: Node.js 20 (Alpine)
- **Language**: TypeScript 5.7
- **Database**: PostgreSQL 16
- **Query Builder**: Knex.js 3.1
- **Validation**: Zod 3.23
- **Scheduler**: node-cron 4.2
- **HTTP Client**: Axios 1.12
- **Google API**: googleapis 144.0

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

ISC

---

## üë§ –ê–≤—Ç–æ—Ä

**Omyy4s**

---
